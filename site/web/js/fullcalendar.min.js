/*

 FullCalendar v1.5.3
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Mon Mar 19 14:09:44 2012 -0700

*/
(function(q,va){function Bb(a){q.extend(true,pb,a)}function dc(a,b,j){function e(h){if(r){n();F();ra();Y(h)}else l()}function l(){Z=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");r=q("<div class='fc-content' style='position:relative'/>").prependTo(a);M=new ec(ea,b);(t=M.render())&&a.prepend(t);L(b.defaultView);q(window).resize(ma);C()||o()}function o(){setTimeout(function(){!w.start&&C()&&Y()},0)}function y(){q(window).unbind("resize",ma);M.destroy();
r.remove();a.removeClass("fc fc-rtl ui-widget")}function u(){return v.offsetWidth!==0}function C(){return q("body")[0].offsetWidth!==0}function L(h){if(!w||h!=w.name){i++;sa();var k=w,P;if(k){(k.beforeHide||Ub)();qb(r,r.height());k.element.hide()}else qb(r,1);r.css("overflow","hidden");if(w=ba[h])w.element.show();else w=ba[h]=new Za[h](P=D=q("<div class='fc-view fc-view-"+h+"' style='position:absolute'/>").appendTo(r),ea);k&&M.deactivateButton(k.name);M.activateButton(h);Y();r.css("overflow","");
k&&qb(r,1);P||(w.afterShow||Ub)();i--}}function Y(h){if(u()){i++;sa();x===va&&n();var k=false;if(!w.start||h||g<w.start||g>=w.end){w.render(g,h||0);$(true);k=true}else if(w.sizeDirty){w.clearEvents();$();k=true}else if(w.eventsDirty){w.clearEvents();k=true}w.sizeDirty=false;w.eventsDirty=false;na(k);da=a.outerWidth();M.updateTitle(w.title);h=new Date;h>=w.start&&h<w.end?M.disableButton("today"):M.enableButton("today");i--;w.trigger("viewDisplay",v)}}function U(){F();if(u()){n();$();sa();w.clearEvents();
w.renderEvents(s);w.sizeDirty=false}}function F(){q.each(ba,function(h,k){k.sizeDirty=true})}function n(){x=b.contentHeight?b.contentHeight:b.height?b.height-(t?t.height():0)-db(r):Math.round(r.width()/Math.max(b.aspectRatio,0.5))}function $(h){i++;w.setHeight(x,h);if(D){D.css("position","relative");D=null}w.setWidth(r.width(),h);i--}function ma(){if(!i)if(w.start){var h=++f;setTimeout(function(){if(h==f&&!i&&u())if(da!=(da=a.outerWidth())){i++;U();w.trigger("windowResize",v);i--}},200)}else o()}
function na(h){if(!b.lazyFetching||Ba(w.visStart,w.visEnd))wa();else h&&oa()}function wa(){S(w.visStart,w.visEnd)}function za(h){s=h;oa()}function qa(h){oa(h)}function oa(h){ra();if(u()){w.clearEvents();w.renderEvents(s,h);w.eventsDirty=false}}function ra(){q.each(ba,function(h,k){k.eventsDirty=true})}function Aa(h,k,P){w.select(h,k,P===va?true:P)}function sa(){w&&w.unselect()}function aa(){Y(-1)}function la(){Y(1)}function pa(){Cb(g,-1);Y()}function ta(){Cb(g,1);Y()}function R(){g=new Date;Y()}function E(h,
k,P){if(h instanceof Date)g=I(h);else Vb(g,h,k,P);Y()}function T(h,k,P){h!==va&&Cb(g,h);k!==va&&Db(g,k);P!==va&&ja(g,P);Y()}function d(){return I(g)}function N(){return w}function Q(h,k){if(k===va)return b[h];if(h=="height"||h=="contentHeight"||h=="aspectRatio"){b[h]=k;U()}}function V(h,k){if(b[h])return b[h].apply(k||v,Array.prototype.slice.call(arguments,2))}var ea=this;ea.options=b;ea.render=e;ea.destroy=y;ea.refetchEvents=wa;ea.reportEvents=za;ea.reportEventChange=qa;ea.rerenderEvents=oa;ea.changeView=
L;ea.select=Aa;ea.unselect=sa;ea.prev=aa;ea.next=la;ea.prevYear=pa;ea.nextYear=ta;ea.today=R;ea.gotoDate=E;ea.incrementDate=T;ea.formatDate=function(h,k){return fb(h,k,b)};ea.formatDates=function(h,k,P){return Eb(h,k,P,b)};ea.getDate=d;ea.getView=N;ea.option=Q;ea.trigger=V;fc.call(ea,b,j);var Ba=ea.isFetchNeeded,S=ea.fetchEvents,v=a[0],M,t,r,Z,w,ba={},da,x,D,f=0,i=0,g=new Date,s=[],m;Vb(g,b.year,b.month,b.date);b.droppable&&q(document).bind("dragstart",function(h,k){var P=h.target,fa=q(P);if(!fa.parents(".fc").length){var ga=
b.dropAccept;if(q.isFunction(ga)?ga.call(P,fa):fa.is(ga)){m=P;w.dragStart(m,h,k)}}}).bind("dragstop",function(h,k){if(m){w.dragStop(m,h,k);m=null}})}function ec(a,b){function j(){F=b.theme?"ui":"fc";if(b.header)return U=q("<table class='fc-header' style='width:100%'/>").append(q("<tr/>").append(l("left")).append(l("center")).append(l("right")))}function e(){U.remove()}function l(n){var $=q("<td class='fc-header-"+n+"'/>");(n=b.header[n])&&q.each(n.split(" "),function(ma){ma>0&&$.append("<span class='fc-header-space'/>");
var na;q.each(this.split(","),function(wa,za){if(za=="title"){$.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");na&&na.addClass(F+"-corner-right");na=null}else{var qa;if(a[za])qa=a[za];else if(Za[za])qa=function(){ra.removeClass(F+"-state-hover");a.changeView(za)};if(qa){wa=b.theme?Fb(b.buttonIcons,za):null;var oa=Fb(b.buttonText,za),ra=q("<span class='fc-button fc-button-"+za+" "+F+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(wa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+
wa+"'/></span>":oa)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(ra){ra.click(function(){ra.hasClass(F+"-state-disabled")||qa()}).mousedown(function(){ra.not("."+F+"-state-active").not("."+F+"-state-disabled").addClass(F+"-state-down")}).mouseup(function(){ra.removeClass(F+"-state-down")}).hover(function(){ra.not("."+F+"-state-active").not("."+F+"-state-disabled").addClass(F+"-state-hover")},function(){ra.removeClass(F+"-state-hover").removeClass(F+"-state-down")}).appendTo($);
na||ra.addClass(F+"-corner-left");na=ra}}}});na&&na.addClass(F+"-corner-right")});return $}function o(n){U.find("h2").html(n)}function y(n){U.find("span.fc-button-"+n).addClass(F+"-state-active")}function u(n){U.find("span.fc-button-"+n).removeClass(F+"-state-active")}function C(n){U.find("span.fc-button-"+n).addClass(F+"-state-disabled")}function L(n){U.find("span.fc-button-"+n).removeClass(F+"-state-disabled")}var Y=this;Y.render=j;Y.destroy=e;Y.updateTitle=o;Y.activateButton=y;Y.deactivateButton=
u;Y.disableButton=C;Y.enableButton=L;var U=q([]),F}function fc(a,b){function j(d,N){return!la||d<la||N>pa}function e(d,N){la=d;pa=N;T=[];d=++ta;R=N=aa.length;for(var Q=0;Q<N;Q++)l(aa[Q],d)}function l(d,N){o(d,function(Q){if(N==ta){if(Q){for(var V=0;V<Q.length;V++){Q[V].source=d;ma(Q[V])}T=T.concat(Q)}R--;R||Aa(T)}})}function o(d,N){var Q,V=Ja.sourceFetchers,ea;for(Q=0;Q<V.length;Q++){ea=V[Q](d,la,pa,N);if(ea===true)return;else if(typeof ea=="object"){o(ea,N);return}}if(Q=d.events)if(q.isFunction(Q)){n();
Q(I(la),I(pa),function(M){N(M);$()})}else q.isArray(Q)?N(Q):N();else if(d.url){var Ba=d.success,S=d.error,v=d.complete;Q=q.extend({},d.data||{});V=lb(d.startParam,a.startParam);ea=lb(d.endParam,a.endParam);if(V)Q[V]=Math.round(+la/1E3);if(ea)Q[ea]=Math.round(+pa/1E3);n();q.ajax(q.extend({},gc,d,{data:Q,success:function(M){M=M||[];var t=rb(Ba,this,arguments);if(q.isArray(t))M=t;N(M)},error:function(){rb(S,this,arguments);N()},complete:function(){rb(v,this,arguments);$()}}))}else N()}function y(d){if(d=
u(d)){R++;l(d,ta)}}function u(d){if(q.isFunction(d)||q.isArray(d))d={events:d};else if(typeof d=="string")d={url:d};if(typeof d=="object"){na(d);aa.push(d);return d}}function C(d){aa=q.grep(aa,function(N){return!wa(N,d)});T=q.grep(T,function(N){return!wa(N.source,d)});Aa(T)}function L(d){var N,Q=T.length,V,ea=ra().defaultEventEnd,Ba=d.start-d._start,S=d.end?d.end-(d._end||ea(d)):0;for(N=0;N<Q;N++){V=T[N];if(V._id==d._id&&V!=d){V.start=new Date(+V.start+Ba);V.end=d.end?V.end?new Date(+V.end+S):new Date(+ea(V)+
S):null;V.title=d.title;V.url=d.url;V.allDay=d.allDay;V.className=d.className;V.editable=d.editable;V.color=d.color;V.backgroudColor=d.backgroudColor;V.borderColor=d.borderColor;V.textColor=d.textColor;ma(V)}}ma(d);Aa(T)}function Y(d,N){ma(d);if(!d.source){if(N){sa.events.push(d);d.source=sa}T.push(d)}Aa(T)}function U(d){if(d){if(!q.isFunction(d)){var N=d+"";d=function(V){return V._id==N}}T=q.grep(T,d,true);for(Q=0;Q<aa.length;Q++)if(q.isArray(aa[Q].events))aa[Q].events=q.grep(aa[Q].events,d,true)}else{T=
[];for(var Q=0;Q<aa.length;Q++)if(q.isArray(aa[Q].events))aa[Q].events=[]}Aa(T)}function F(d){if(q.isFunction(d))return q.grep(T,d);else if(d){d+="";return q.grep(T,function(N){return N._id==d})}return T}function n(){E++||oa("loading",null,true)}function $(){--E||oa("loading",null,false)}function ma(d){var N=d.source||{},Q=lb(N.ignoreTimezone,a.ignoreTimezone);d._id=d._id||(d.id===va?"_fc"+hc++:d.id+"");if(d.date){if(!d.start)d.start=d.date;delete d.date}d._start=I(d.start=Gb(d.start,Q));d.end=Gb(d.end,
Q);if(d.end&&d.end<=d.start)d.end=null;d._end=d.end?I(d.end):null;if(d.allDay===va)d.allDay=lb(N.allDayDefault,a.allDayDefault);if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[];d.resourceId&&q.each(a.resources,function(V,ea){if(ea.id===d.resourceId)d.resource=ea})}function na(d){if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[];for(var N=Ja.sourceNormalizers,Q=0;Q<N.length;Q++)N[Q](d)}function wa(d,
N){return d&&N&&za(d)==za(N)}function za(d){return(typeof d=="object"?d.events||d.url:"")||d}var qa=this;qa.isFetchNeeded=j;qa.fetchEvents=e;qa.addEventSource=y;qa.removeEventSource=C;qa.updateEvent=L;qa.renderEvent=Y;qa.removeEvents=U;qa.clientEvents=F;qa.normalizeEvent=ma;var oa=qa.trigger,ra=qa.getView,Aa=qa.reportEvents,sa={events:[]},aa=[sa],la,pa,ta=0,R=0,E=0,T=[];for(qa=0;qa<b.length;qa++)u(b[qa])}function Cb(a,b,j){a.setFullYear(a.getFullYear()+b);j||$a(a);return a}function Db(a,b,j){if(+a){b=
a.getMonth()+b;var e=I(a);e.setDate(1);e.setMonth(b);a.setMonth(b);for(j||$a(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(a<e?1:-1))}return a}function ja(a,b,j){if(+a){b=a.getDate()+b;var e=I(a);e.setHours(9);e.setDate(b);a.setDate(b);j||$a(a);Hb(a,e)}return a}function Hb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*ic)}function ua(a,b){a.setMinutes(a.getMinutes()+b);return a}function $a(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function I(a,
b){if(b)return $a(new Date(+a));return new Date(+a)}function sb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Wa(a,b,j){for(b=b||1;!a.getDay()||j&&a.getDay()==1||!j&&a.getDay()==6;)ja(a,b);return a}function Ka(a,b){return Math.round((I(a,true)-I(b,true))/Wb)}function Vb(a,b,j,e){if(b!==va&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(j!==va&&j!=a.getMonth()){a.setDate(1);a.setMonth(j)}e!==va&&a.setDate(e)}function Gb(a,b){if(typeof a=="object")return a;
if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===va)b=true;return Xb(a,b)||(a?new Date(a):null)}return null}function Xb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var j=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){j.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){j.setDate(a[5]);
b.setDate(a[5])}Hb(j,b);a[7]&&j.setHours(a[7]);a[8]&&j.setMinutes(a[8]);a[10]&&j.setSeconds(a[10]);a[12]&&j.setMilliseconds(Number("0."+a[12])*1E3);Hb(j,b)}else{j.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);j.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;j=new Date(+j+b*60*1E3)}}return j}function mb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=
parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function fb(a,b,j){return Eb(a,null,b,j)}function Eb(a,b,j,e){e=e||pb;var l=a,o=b,y,u=j.length,C,L,Y,U="";for(y=0;y<u;y++){C=j.charAt(y);if(C=="'")for(L=y+1;L<u;L++){if(j.charAt(L)=="'"){if(l){U+=L==y+1?"'":j.substring(y+1,L);y=L}break}}else if(C=="(")for(L=y+1;L<u;L++){if(j.charAt(L)==")"){y=fb(l,j.substring(y+1,L),e);if(parseInt(y.replace(/\D/,""),10))U+=y;y=L;break}}else if(C=="[")for(L=
y+1;L<u;L++){if(j.charAt(L)=="]"){C=j.substring(y+1,L);y=fb(l,C,e);if(y!=fb(o,C,e))U+=y;y=L;break}}else if(C=="{"){l=b;o=a}else if(C=="}"){l=a;o=b}else{for(L=u;L>y;L--)if(Y=jc[j.substring(y,L)]){if(l)U+=Y(l,e);y=L-1;break}if(L==y)if(l)U+=C}}return U}function ab(a){return a.end?kc(a.end,a.allDay):ja(I(a.start),1)}function kc(a,b){a=I(a);return b||a.getHours()||a.getMinutes()?ja(a,1):$a(a)}function lc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Yb(a,b){return a.end>
b.start&&a.start<b.end}function nb(a,b,j,e){var l=[],o,y=a.length,u,C,L,Y,U;for(o=0;o<y;o++){u=a[o];C=u.start;L=b[o];if(L>j&&C<e){if(C<j){C=I(j);Y=false}else{C=C;Y=true}if(L>e){L=I(e);U=false}else{L=L;U=true}l.push({event:u,start:C,end:L,isStart:Y,isEnd:U,msLength:L-C})}}return l.sort(lc)}function ob(a){var b=[],j,e=a.length,l,o,y,u;for(j=0;j<e;j++){l=a[j];for(o=0;;){y=false;if(b[o])for(u=0;u<b[o].length;u++)if(Yb(b[o][u],l)){y=true;break}if(y)o++;else break}if(b[o])b[o].push(l);else b[o]=[l]}return b}
function Ib(a,b,j){a.unbind("mouseover").mouseover(function(e){for(var l=e.target,o;l!=this;){o=l;l=l.parentNode}if((l=o._fci)!==va){o._fci=va;o=b[l];j(o.event,o.element,o);q(e.target).trigger(e)}e.stopPropagation()})}function Xa(a,b,j){for(var e=0,l;e<a.length;e++){l=q(a[e]);l.width(Math.max(0,b-tb(l,j)))}}function ub(a,b,j){for(var e=0,l;e<a.length;e++){l=q(a[e]);l.height(Math.max(0,b-db(l,j)))}}function tb(a,b){return mc(a)+nc(a)+(b?oc(a):0)}function mc(a){return(parseFloat(q.curCSS(a[0],"paddingLeft",
true))||0)+(parseFloat(q.curCSS(a[0],"paddingRight",true))||0)}function oc(a){return(parseFloat(q.curCSS(a[0],"marginLeft",true))||0)+(parseFloat(q.curCSS(a[0],"marginRight",true))||0)}function nc(a){return(parseFloat(q.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(q.curCSS(a[0],"borderRightWidth",true))||0)}function db(a,b){return pc(a)+qc(a)+(b?Zb(a):0)}function pc(a){return(parseFloat(q.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(q.curCSS(a[0],"paddingBottom",true))||0)}function Zb(a){return(parseFloat(q.curCSS(a[0],
"marginTop",true))||0)+(parseFloat(q.curCSS(a[0],"marginBottom",true))||0)}function qc(a){return(parseFloat(q.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(q.curCSS(a[0],"borderBottomWidth",true))||0)}function qb(a,b){b=typeof b=="number"?b+"px":b;a.each(function(j,e){e.style.cssText+=";min-height:"+b+";_height:"+b})}function Ub(){}function vb(a,b){return a-b}function $b(a){return Math.max.apply(Math,a)}function gb(a){return(a<10?"0":"")+a}function Fb(a,b){if(a[b]!==va)return a[b];b=b.split(/(?=[A-Z])/);
for(var j=b.length-1,e;j>=0;j--){e=a[b[j].toLowerCase()];if(e!==va)return e}return a[""]}function Ya(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Jb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function wb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function hb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function xb(a,b){a.each(function(j,e){e.className=e.className.replace(/^fc-\w*/,"fc-"+rc[b.getDay()])})}function Kb(a,b){var j=a.source||{},e=a.color,l=j.color,o=b("eventColor"),y=a.backgroundColor||e||j.backgroundColor||l||b("eventBackgroundColor")||o;e=a.borderColor||e||j.borderColor||l||b("eventBorderColor")||o;a=a.textColor||j.textColor||b("eventTextColor");b=[];y&&b.push("background-color:"+y);e&&b.push("border-color:"+e);a&&b.push("color:"+a);return b.join(";")}function rb(a,b,j){if(q.isFunction(a))a=
[a];if(a){var e,l;for(e=0;e<a.length;e++)l=a[e].apply(b,j)||l;return l}}function lb(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==va)return arguments[a]}function sc(a,b){function j(u,C){if(C){Db(u,C);u.setDate(1)}u=I(u,true);u.setDate(1);C=Db(I(u),1);var L=I(u),Y=I(C),U=l("firstDay"),F=l("weekends")?0:1;if(F){Wa(L);Wa(Y,-1,true)}ja(L,-((L.getDay()-Math.max(U,F)+7)%7));ja(Y,(7-Y.getDay()+Math.max(U,F))%7);U=Math.round((Y-L)/(Wb*7));if(l("weekMode")=="fixed"){ja(Y,(6-U)*7);U=6}e.title=y(u,
l("titleFormat"));e.start=u;e.end=C;e.visStart=L;e.visEnd=Y;o(6,U,F?5:7,true)}var e=this;e.render=j;Lb.call(e,a,b,"month");var l=e.opt,o=e.renderBasic,y=b.formatDate}function tc(a,b){function j(u,C){C&&ja(u,C*7);u=ja(I(u),-((u.getDay()-l("firstDay")+7)%7));C=ja(I(u),7);var L=I(u),Y=I(C),U=l("weekends");if(!U){Wa(L);Wa(Y,-1,true)}e.title=y(L,ja(I(Y),-1),l("titleFormat"));e.start=u;e.end=C;e.visStart=L;e.visEnd=Y;o(1,1,U?7:5,false)}var e=this;e.render=j;Lb.call(e,a,b,"basicWeek");var l=e.opt,o=e.renderBasic,
y=b.formatDates}function uc(a,b){function j(u,C){if(C){ja(u,C);l("weekends")||Wa(u,C<0?-1:1)}e.title=y(u,l("titleFormat"));e.start=e.visStart=I(u,true);e.end=e.visEnd=ja(I(e.start),1);o(1,1,1,false)}var e=this;e.render=j;Lb.call(e,a,b,"basicDay");var l=e.opt,o=e.renderBasic,y=b.formatDate}function Lb(a,b,j){function e(B,z,K,H){f=z;i=K;l();(z=!M)?o(B,H):N();y(z)}function l(){if(h=T("isRTL")){k=-1;P=i-1}else{k=1;P=0}fa=T("firstDay");ga=T("weekends")?0:1;ia=T("theme")?"ui":"fc";ca=T("columnFormat")}
function o(B,z){var K,H=ia+"-widget-header",ha=ia+"-widget-content",W;K="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(W=0;W<i;W++)K+="<th class='fc- "+H+"'/>";K+="</tr></thead><tbody>";for(W=0;W<B;W++){K+="<tr class='fc-week"+W+"'>";for(H=0;H<i;H++)K+="<td class='fc- "+ha+" fc-day"+(W*i+H)+"'><div>"+(z?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";K+="</tr>"}K+="</tbody></table>";
B=q(K).appendTo(a);S=B.find("thead");v=S.find("th");M=B.find("tbody");t=M.find("tr");r=M.find("td");Z=r.filter(":first-child");w=t.eq(0).find("div.fc-day-content div");hb(S.add(S.find("tr")));hb(t);t.eq(0).addClass("fc-first");L(r);ba=q("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function y(B){var z=B||f==1,K=E.start.getMonth(),H=$a(new Date),ha,W,ya;z&&v.each(function(xa,Ha){ha=q(Ha);W=la(xa);ha.html(Ba(W,ca));xb(ha,W)});r.each(function(xa,Ha){ha=q(Ha);W=la(xa);W.getMonth()==
K?ha.removeClass("fc-other-month"):ha.addClass("fc-other-month");+W==+H?ha.addClass(ia+"-state-highlight fc-today"):ha.removeClass(ia+"-state-highlight fc-today");ha.find("div.fc-day-number").text(W.getDate());z&&xb(ha,W)});t.each(function(xa,Ha){ya=q(Ha);if(xa<f){ya.show();xa==f-1?ya.addClass("fc-last"):ya.removeClass("fc-last")}else ya.hide()})}function u(B){x=B;B=x-S.height();var z,K,H;if(T("weekMode")=="variable")z=K=Math.floor(B/(f==1?2:6));else{z=Math.floor(B/f);K=B-z*(f-1)}Z.each(function(ha,
W){if(ha<f){H=q(W);qb(H.find("> div"),(ha==f-1?K:z)-db(H))}})}function C(B){da=B;m.clear();D=Math.floor(da/i);Xa(v.slice(0,-1),D)}function L(B){B.click(Y).mousedown(ea)}function Y(B){if(!T("selectable")){var z=parseInt(this.className.match(/fc\-day(\d+)/)[1]);z=la(z);d("dayClick",this,z,true,B)}}function U(B,z,K){K&&g.build();K=I(E.visStart);for(var H=ja(I(K),i),ha=0;ha<f;ha++){var W=new Date(Math.max(K,B)),ya=new Date(Math.min(H,z));if(W<ya){var xa;if(h){xa=Ka(ya,K)*k+P+1;W=Ka(W,K)*k+P+1}else{xa=
Ka(W,K);W=Ka(ya,K)}L(F(ha,xa,ha,W-1))}ja(K,7);ja(H,7)}}function F(B,z,K,H){B=g.rect(B,z,K,H,a);return Q(B,a)}function n(B){return I(B)}function $(B,z){U(B,ja(I(z),1),true)}function ma(){V()}function na(B,z,K){var H=Aa(B);d("dayClick",r[H.row*i+H.col],B,z,K)}function wa(B,z){s.start(function(K){V();K&&F(K.row,K.col,K.row,K.col)},z)}function za(B,z,K){var H=s.stop();V();if(H){H=sa(H);d("drop",B,H,true,z,K)}}function qa(B){return I(B.start)}function oa(B){return m.left(B)}function ra(B){return m.right(B)}
function Aa(B){return{row:Math.floor(Ka(B,E.visStart)/7),col:pa(B.getDay())}}function sa(B){return aa(B.row,B.col)}function aa(B,z){return ja(I(E.visStart),B*7+z*k+P)}function la(B){return aa(Math.floor(B/i),B%i)}function pa(B){return(B-Math.max(fa,ga)+i)%i*k+P}function ta(B){return t.eq(B)}function R(){return{left:0,right:da}}var E=this;E.renderBasic=e;E.setHeight=u;E.setWidth=C;E.renderDayOverlay=U;E.defaultSelectionEnd=n;E.renderSelection=$;E.clearSelection=ma;E.reportDayClick=na;E.dragStart=wa;
E.dragStop=za;E.defaultEventEnd=qa;E.getHoverListener=function(){return s};E.colContentLeft=oa;E.colContentRight=ra;E.dayOfWeekCol=pa;E.dateCell=Aa;E.cellDate=sa;E.cellIsAllDay=function(){return true};E.allDayRow=ta;E.allDayBounds=R;E.getRowCnt=function(){return f};E.getColCnt=function(){return i};E.getColWidth=function(){return D};E.getDaySegmentContainer=function(){return ba};Mb.call(E,a,b,j);Nb.call(E);Ob.call(E);vc.call(E);var T=E.opt,d=E.trigger,N=E.clearEvents,Q=E.renderOverlay,V=E.clearOverlays,
ea=E.daySelectionMousedown,Ba=b.formatDate,S,v,M,t,r,Z,w,ba,da,x,D,f,i,g,s,m,h,k,P,fa,ga,ia,ca;wb(a.addClass("fc-grid"));g=new Pb(function(B,z){var K,H,ha;v.each(function(W,ya){K=q(ya);H=K.offset().left;if(W)ha[1]=H;ha=[H];z[W]=ha});ha[1]=H+K.outerWidth();t.each(function(W,ya){if(W<f){K=q(ya);H=K.offset().top;if(W)ha[1]=H;ha=[H];B[W]=ha}});ha[1]=H+K.outerHeight()});s=new Qb(g);m=new Rb(function(B){return w.eq(B)})}function vc(){function a(aa,la){Y(aa);Aa(j(aa),la)}function b(){U();na().empty()}function j(aa){var la=
oa(),pa=ra(),ta=I(o.visStart);pa=ja(I(ta),pa);var R=q.map(aa,ab),E,T,d,N,Q,V,ea=[];for(E=0;E<la;E++){T=ob(nb(aa,R,ta,pa));for(d=0;d<T.length;d++){N=T[d];for(Q=0;Q<N.length;Q++){V=N[Q];V.row=E;V.level=d;ea.push(V)}}ja(ta,7);ja(pa,7)}return ea}function e(aa,la,pa){C(aa)&&l(aa,la);pa.isEnd&&L(aa)&&sa(aa,la,pa);F(aa,la)}function l(aa,la){var pa=wa(),ta;la.draggable({zIndex:9,delay:50,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(R,E){u("eventDragStart",la,aa,R,E);$(aa,
la);pa.start(function(T,d,N,Q){la.draggable("option","revert",!T||!N&&!Q);qa();if(T){ta=N*7+Q*(y("isRTL")?-1:1);za(ja(I(aa.start),ta),ja(ab(aa),ta))}else ta=0},R,"drag")},stop:function(R,E){pa.stop();qa();u("eventDragStop",la,aa,R,E);if(ta)ma(this,aa,ta,0,aa.allDay,R,E);else{la.css("filter","");n(aa,la)}}})}var o=this;o.renderEvents=a;o.compileDaySegs=j;o.clearEvents=b;o.bindDaySeg=e;Sb.call(o);var y=o.opt,u=o.trigger,C=o.isEventDraggable,L=o.isEventResizable,Y=o.reportEvents,U=o.reportEventClear,
F=o.eventElementHandlers,n=o.showEvents,$=o.hideEvents,ma=o.eventDrop,na=o.getDaySegmentContainer,wa=o.getHoverListener,za=o.renderDayOverlay,qa=o.clearOverlays,oa=o.getRowCnt,ra=o.getColCnt,Aa=o.renderDaySegs,sa=o.resizableDayEvent}function wc(a,b){function j(u,C){if(C){ja(u,C);l("weekends")||Wa(u,C<0?-1:1)}C=I(u,true);var L=ja(I(C),1);e.title=y(u,l("titleFormat"));e.start=e.visStart=C;e.end=e.visEnd=L;o()}var e=this;e.render=j;xc.call(e,a,b,"resourceDay");var l=e.opt,o=e.renderResource,y=b.formatDate}
function xc(a,b,j){function e(){Fa=J.length;l();g?w():o();y()}function l(){bb=r("theme")?"ui":"fc";Oa=r("weekends")?0:1;yb=r("firstDay");if(Pa=r("isRTL")){Ma=-1;cb=Fa-1}else{Ma=1;cb=0}Qa=mb(r("minTime"));p=mb(r("maxTime"));X=r("columnFormat")}function o(){var c=bb+"-widget-header",G=bb+"-widget-content",A,O,ka,Ca,Da,Ga=r("slotMinutes")%15==0;A="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+c+"'>&nbsp;</th>";for(O=0;O<Fa;O++)A+=
"<th class='fc- fc-col"+O+" "+c+"'/>";A+="<th class='fc-agenda-gutter "+c+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+c+"'>&nbsp;</th>";for(O=0;O<Fa;O++)A+="<td class='fc- fc-col"+O+" "+G+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";A+="<td class='fc-agenda-gutter "+G+"'>&nbsp;</td></tr></tbody></table>";g=q(A).appendTo(a);s=g.find("thead");m=s.find("th").slice(1,-1);h=g.find("tbody");k=h.find("td").slice(0,-1);P=k.find("div.fc-day-content div");
fa=k.eq(0);ga=fa.find("> div");hb(s.add(s.find("tr")));hb(h.add(h.find("tr")));xa=s.find("th:first");Ha=g.find(".fc-agenda-gutter");ia=q("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(r("allDaySlot")){ca=q("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ia);A="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+c+" fc-agenda-axis'>"+r("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
c+" fc-agenda-gutter'>&nbsp;</th></tr></table>";B=q(A).appendTo(ia);z=B.find("tr");F(z.find("td"));xa=xa.add(B.find("th:first"));Ha=Ha.add(B.find("th.fc-agenda-gutter"));ia.append("<div class='fc-agenda-divider "+c+"'><div class='fc-agenda-divider-inner'/></div>")}else ca=q([]);K=q("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ia);H=q("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(K);ha=q("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(H);
A="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ka=sb();Ca=ua(I(ka),p);ua(ka,Qa);for(O=Ra=0;ka<Ca;O++){Da=ka.getMinutes();A+="<tr class='fc-slot"+O+" "+(!Da?"":"fc-minor")+"'><th class='fc-agenda-axis "+c+"'>"+(!Ga||!Da?i(ka,r("axisFormat")):"&nbsp;")+"</th><td class='"+G+"'><div style='position:relative'>&nbsp;</div></td></tr>";ua(ka,r("slotMinutes"));Ra++}A+="</tbody></table>";W=q(A).appendTo(H);ya=W.find("div:first");n(W.find("td"));xa=xa.add(W.find("th:first"))}function y(){var c,
G,A,O,ka=$a(new Date);for(c=0;c<Fa;c++){O=Aa(c);G=m.eq(c);G.html(J[c].name);G.attr("id",J[c].id);A=k.eq(c);+O==+ka?A.addClass(bb+"-state-highlight fc-today"):A.removeClass(bb+"-state-highlight fc-today");xb(G.add(A),O)}}function u(c,G){if(c===va)c=eb;eb=c;ib={};var A=h.position().top,O=K.position().top;c=Math.min(c-A,W.height()+O+1);ga.height(c-db(fa));ia.css("top",A);K.height(c-O-1);Ea=ya.height()+1;G&&L()}function C(c){Sa=c;Ta.clear();Na=0;Xa(xa.width("").each(function(G,A){Na=Math.max(Na,q(A).outerWidth())}),
Na);c=K[0].clientWidth;if(jb=K.width()-c){Xa(Ha,jb);Ha.show().prev().removeClass("fc-last")}else Ha.hide().prev().addClass("fc-last");Ua=Math.floor((c-Na)/Fa);Xa(m.slice(0,-1),Ua)}function L(){function c(){K.scrollTop(O)}var G=sb(),A=I(G);A.setHours(r("firstHour"));var O=pa(G,A)+1;c();setTimeout(c,0)}function Y(){kb=K.scrollTop()}function U(){K.scrollTop(kb)}function F(c){c.click($).mousedown(V)}function n(c){c.click($).mousedown(ea)}function $(c){if(!r("selectable")){var G=Math.min(Fa-1,Math.floor((c.pageX-
g.offset().left-Na)/Ua)),A=Aa(G),O=this.parentNode.className.match(/fc-slot(\d+)/);if(O){O=parseInt(O[1])*r("slotMinutes");var ka=Math.floor(O/60);A.setHours(ka);A.setMinutes(O%60+Qa);Z("dayClick",k[G],A,false,c)}else Z("dayClick",k[G],A,true,c)}}function ma(c,G,A,O){A&&La.build();c=la(O);F(na(0,c,0,c+1-1))}function na(c,G,A,O){c=La.rect(c,G,A,O,ia);return ba(c,ia)}function wa(c,G){for(var A=I(t.visStart),O=ja(I(A),1),ka=0;ka<Fa;ka++){var Ca=new Date(Math.max(A,c)),Da=new Date(Math.min(O,G));if(Ca<
Da){var Ga=ka*Ma+cb;Ga=La.rect(0,Ga,0,Ga,H);Ca=pa(A,Ca);Da=pa(A,Da);Ga.top=Ca;Ga.height=Da-Ca;n(ba(Ga,H))}ja(A,1);ja(O,1)}}function za(c){return Ta.left(c)}function qa(c){return Ta.right(c)}function oa(c){return{row:Math.floor(Ka(c,t.visStart)/7),col:aa(c.getDay())}}function ra(c){var G=Aa(c.col);c=c.row;r("allDaySlot")&&c--;c>=0&&ua(G,Qa+c*r("slotMinutes"));return G}function Aa(){return I(t.visStart)}function sa(c){return r("allDaySlot")&&!c.row}function aa(){return 0}function la(c){for(var G=0;G<
J.length;G++)if(c.id===J[G].id)return G;return-1}function pa(c,G){c=I(c,true);if(G<ua(I(c),Qa))return 0;if(G>=ua(I(c),p))return W.height();c=r("slotMinutes");G=G.getHours()*60+G.getMinutes()-Qa;var A=Math.floor(G/c),O=ib[A];if(O===va)O=ib[A]=W.find("tr:eq("+A+") td div")[0].offsetTop;return Math.max(0,Math.round(O-1+Ea*(G%c/c)))}function ta(){return{left:Na,right:Sa-jb}}function R(){return z}function E(c){var G=I(c.start);if(c.allDay)return G;return ua(G,r("defaultEventMinutes"))}function T(c,G){if(G)return I(c);
return ua(I(c),r("slotMinutes"))}function d(c,G,A,O){if(A)r("allDaySlot")&&ma(c,ja(I(G),1),true,O);else N(c,G,O)}function N(c,G,A){var O=r("selectHelper");La.build();if(O){A=la(A);if(A>=0&&A<Fa){A=La.rect(0,A,0,A,H);var ka=pa(c,c),Ca=pa(c,G);if(Ca>ka){A.top=ka;A.height=Ca-ka;A.left+=2;A.width-=5;if(q.isFunction(O)){if(c=O(c,G)){A.position="absolute";A.zIndex=8;Ia=q(c).css(A).appendTo(H)}}else{A.isStart=true;A.isEnd=true;Ia=q(f({title:"",start:c,end:G,className:["fc-select-helper"],editable:false},
A));Ia.css("opacity",r("dragOpacity"))}if(Ia){n(Ia);H.append(Ia);Xa(Ia,A.width,true);ub(Ia,A.height,true)}}}}else wa(c,G)}function Q(){da();if(Ia){Ia.remove();Ia=null}}function V(c){var G=t.cellDate,A=t.cellIsAllDay,O=t.getHoverListener();if(c.which==1&&r("selectable")){D(c);var ka,Ca;O.start(function(Da,Ga){Q();if(Da&&A(Da)){Ca=J[Da.col];ka=[G(Ga),G(Da)].sort(vb);d(ka[0],ka[1],true,Ca)}else ka=null},c);q(document).one("mouseup",function(Da){O.stop();ka&&Ca&&x(ka[0],ka[1],true,Da,Ca.id)})}}function ea(c){if(c.which==
1&&r("selectable")){D(c);var G,A;Va.start(function(O,ka){Q();if(O&&O.col==ka.col&&!sa(O)){A=J[O.col];ka=ra(ka);O=ra(O);G=[ka,ua(I(ka),r("slotMinutes")),O,ua(I(O),r("slotMinutes"))].sort(vb);N(G[0],G[3],A)}else G=null},c);q(document).one("mouseup",function(O){Va.stop();G&&A&&x(G[0],G[3],false,O,A.id)})}}function Ba(c,G,A){Z("dayClick",k[aa(c.getDay())],c,G,A)}function S(c,G){Va.start(function(A){da();if(A)if(sa(A))na(A.row,A.col,A.row,A.col);else{A=ra(A);var O=ua(I(A),r("defaultEventMinutes"));wa(A,
O)}},G)}function v(c,G,A){var O=Va.stop();da();O&&Z("drop",c,ra(O),sa(O),G,A)}function M(){return b.options.resources}var t=this;t.renderResource=e;t.setWidth=C;t.setHeight=u;t.beforeHide=Y;t.afterShow=U;t.defaultEventEnd=E;t.timePosition=pa;t.dayOfWeekCol=aa;t.dateCell=oa;t.cellDate=ra;t.cellIsAllDay=sa;t.allDayRow=R;t.allDayBounds=ta;t.getHoverListener=function(){return Va};t.colContentLeft=za;t.colContentRight=qa;t.getDaySegmentContainer=function(){return ca};t.getSlotSegmentContainer=function(){return ha};
t.getMinMinute=function(){return Qa};t.getMaxMinute=function(){return p};t.getBodyContent=function(){return H};t.getRowCnt=function(){return 1};t.getColCnt=function(){return Fa};t.getColWidth=function(){return Ua};t.getSlotHeight=function(){return Ea};t.defaultSelectionEnd=T;t.renderDayOverlay=ma;t.renderSelection=d;t.clearSelection=Q;t.reportDayClick=Ba;t.dragStart=S;t.dragStop=v;t.resourceCol=la;t.resources=M();Mb.call(t,a,b,j);Nb.call(t);Ob.call(t);yc.call(t);var r=t.opt,Z=t.trigger,w=t.clearEvents,
ba=t.renderOverlay,da=t.clearOverlays,x=t.reportSelection,D=t.unselect,f=t.slotSegHtml,i=b.formatDate,g,s,m,h,k,P,fa,ga,ia,ca,B,z,K,H,ha,W,ya,xa,Ha,Ia,Sa,eb,Na,Ua,jb,Ea,kb,Fa,Ra,La,Va,Ta,ib={},bb,yb,Oa,Pa,Ma,cb,Qa,p,X,J=t.resources;wb(a.addClass("fc-agenda"));La=new Pb(function(c,G){function A(zb){return Math.max(Ga,Math.min(Tb,zb))}var O,ka,Ca;m.each(function(zb,zc){O=q(zc);ka=O.offset().left;if(zb)Ca[1]=ka;Ca=[ka];G[zb]=Ca});Ca[1]=ka+O.outerWidth();if(r("allDaySlot")){O=z;ka=O.offset().top;c[0]=
[ka,ka+O.outerHeight()]}for(var Da=H.offset().top,Ga=K.offset().top,Tb=Ga+K.outerHeight(),Ab=0;Ab<Ra;Ab++)c.push([A(Da+Ea*Ab),A(Da+Ea*(Ab+1))])});Va=new Qb(La);Ta=new Rb(function(c){return P.eq(c)})}function yc(){function a(f,i){qa(f);var g,s=f.length,m=[],h=[];for(g=0;g<s;g++)f[g].allDay?m.push(f[g]):h.push(f[g]);if($("allDaySlot")){d(j(m),i,D);Aa()}y(e(h),i)}function b(){oa();sa().empty();aa().empty()}function j(f){f=ob(nb(f,q.map(f,ab),n.visStart,n.visEnd));var i,g=f.length,s,m,h,k=[];for(i=0;i<
g;i++){s=f[i];for(m=0;m<s.length;m++){h=s[m];h.row=0;h.level=i;k.push(h)}}return k}function e(f){var i=Q(),g=ta(),s=pa(),m=ua(I(n.visStart),g),h,k,P,fa,ga,ia,ca=[];for(h=0;h<i;h++){k=l(D[h],f);k=ob(nb(k,q.map(k,o),m,ua(I(m),s-g)));ac(k);for(P=0;P<k.length;P++){fa=k[P];for(ga=0;ga<fa.length;ga++){ia=fa[ga];ia.col=h;ia.level=P;ca.push(ia)}}}return ca}function l(f,i){for(var g=[],s=0;s<i.length;s++)i[s].resourceId===f.id&&g.push(i[s]);return g}function o(f){return f.end?I(f.end):ua(I(f.start),$("defaultEventMinutes"))}
function y(f,i){var g,s=f.length,m,h,k,P,fa,ga,ia,ca,B,z="",K,H,ha={},W={},ya=aa(),xa;g=Q();if(K=$("isRTL")){H=-1;xa=g-1}else{H=1;xa=0}for(g=0;g<s;g++){m=f[g];h=m.event;k=R(m.start,m.start);P=R(m.start,m.end);fa=m.col;ga=m.level;ia=m.forward||0;ca=E(fa*H+xa);B=T(fa*H+xa)-ca;B=Math.min(B-6,B*0.95);fa=ga?B/(ga+ia+1):ia?(B/(ia+1)-6)*2:B;ga=ca+B/(ga+ia+1)*ga*H+(K?B-fa:0);m.top=k;m.left=ga;m.outerWidth=fa;m.outerHeight=P-k;z+=u(h,m)}ya[0].innerHTML=z;K=ya.children();for(g=0;g<s;g++){m=f[g];h=m.event;z=
q(K[g]);H=ma("eventRender",h,h,z);if(H===false)z.remove();else{if(H&&H!==true){z.remove();z=q(H).css({position:"absolute",top:m.top,left:m.left}).appendTo(ya)}m.element=z;if(h._id===i)L(h,z,m);else z[0]._fci=g;S(h,z)}}Ib(ya,f,L);for(g=0;g<s;g++){m=f[g];if(z=m.element){h=ha[i=m.key=Jb(z[0])];m.vsides=h===va?(ha[i]=db(z,true)):h;h=W[i];m.hsides=h===va?(W[i]=tb(z,true)):h;i=z.find("div.fc-event-content");if(i.length)m.contentTop=i[0].offsetTop}}for(g=0;g<s;g++){m=f[g];if(z=m.element){z[0].style.width=
Math.max(0,m.outerWidth-m.hsides)+"px";ha=Math.max(0,m.outerHeight-m.vsides);z[0].style.height=ha+"px";h=m.event;if(m.contentTop!==va&&ha-m.contentTop<10){z.find("div.fc-event-time").text(da(h.start,$("timeFormat"))+" - "+h.title);z.find("div.fc-event-title").remove()}ma("eventAfterRender",h,h,z)}}}function u(f,i){var g="<",s=f.url,m=Kb(f,$),h=m?" style='"+m+"'":"",k=["fc-event","fc-event-skin","fc-event-vert"];na(f)&&k.push("fc-event-draggable");i.isStart&&k.push("fc-corner-top");i.isEnd&&k.push("fc-corner-bottom");
k=k.concat(f.className);if(f.source)k=k.concat(f.source.className||[]);g+=s?"a href='"+Ya(f.url)+"'":"div";g+=" class='"+k.join(" ")+"' style='position:absolute;z-index:8;top:"+i.top+"px;left:"+i.left+"px;"+m+"'><div class='fc-event-inner fc-event-skin'"+h+"><div class='fc-event-head fc-event-skin'"+h+"><div class='fc-event-time'>"+Ya(x(f.start,f.end,$("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ya(f.title)+"</div></div><div class='fc-event-bg'></div></div>";
if(i.isEnd&&wa(f))g+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";g+="</"+(s?"a":"div")+">";return g}function C(f,i,g){na(f)&&Y(f,i,g.isStart);g.isEnd&&wa(f)&&N(f,i,g);ra(f,i)}function L(f,i,g){var s=i.find("div.fc-event-time");na(f)&&U(f,i,s);g.isEnd&&wa(f)&&F(f,i,s);ra(f,i)}function Y(f,i,g){function s(){if(!k){i.width(m).height("").draggable("option","grid",null);k=true}}var m,h,k=true,P,fa=$("isRTL")?-1:1,ga=la(),ia=V(),ca=ea(),B=ta();i.draggable({zIndex:9,opacity:$("dragOpacity",
"month"),revertDuration:$("dragRevertDuration"),start:function(z,K){ma("eventDragStart",i,f,z,K);M(f,i);m=i.width();ga.start(function(H,ha,W,ya){w();if(H){h=false;P=ya*fa;if(H.row)if(g){if(k){i.width(ia-10);ub(i,ca*Math.round((f.end?(f.end-f.start)/bc:$("defaultEventMinutes"))/$("slotMinutes")));i.draggable("option","grid",[ia,1]);k=false}}else h=true;else{Z(ja(I(f.start),P),ja(ab(f),P),true,D[H.col]);s()}h=h||k&&!P}else{s();h=true}i.draggable("option","revert",h)},z,"drag")},stop:function(z,K){var H=
ga.stop();w();f.resourceId=D[H.col].id;ma("eventDragStop",i,f,z,K);if(h){s();i.css("filter","");v(f,i)}else{H=0;k||(H=Math.round((i.offset().top-Ba().offset().top)/ca)*$("slotMinutes")+B-(f.start.getHours()*60+f.start.getMinutes()));P=0;t(this,f,P,H,k,z,K)}}})}function U(f,i,g){function s(H){var ha=ua(I(f.start),H),W;if(f.end)W=ua(I(f.end),H);g.text(x(ha,W,$("timeFormat")))}function m(){if(k){g.css("display","");i.draggable("option","grid",[z,K]);k=false}}var h,k=false,P,fa,ga,ia=$("isRTL")?-1:1,
ca=la(),B=Q(),z=V(),K=ea();i.draggable({zIndex:9,scroll:false,grid:[z,K],axis:B==1?"y":false,opacity:$("dragOpacity"),revertDuration:$("dragRevertDuration"),start:function(H,ha){ma("eventDragStart",i,f,H,ha);M(f,i);h=i.position();fa=ga=0;ca.start(function(W,ya,xa,Ha){i.draggable("option","revert",!W);w();if(W){P=Ha*ia;if($("allDaySlot")&&!W.row){if(!k){k=true;g.hide();i.draggable("option","grid",null)}Z(ja(I(f.start),P),ja(ab(f),P),true,D[W.col])}else m()}},H,"drag")},drag:function(H,ha){fa=Math.round((ha.position.top-
h.top)/K)*$("slotMinutes");if(fa!=ga){k||s(fa);ga=fa}},stop:function(H,ha){var W=ca.stop();w();ma("eventDragStop",i,f,H,ha);if(W&&(P||fa||k)){f.resourceId=D[W.col].id;P=0;t(this,f,P,k?0:fa,k,H,ha)}else{m();i.css("filter","");i.css(h);s(0);v(f,i)}}})}function F(f,i,g){var s,m,h=ea();i.resizable({handles:{s:"div.ui-resizable-s"},grid:h,start:function(k,P){s=m=0;M(f,i);i.css("z-index",9);ma("eventResizeStart",this,f,k,P)},resize:function(k,P){s=Math.round((Math.max(h,i.height())-P.originalSize.height)/
h);if(s!=m){g.text(x(f.start,!s&&!f.end?null:ua(za(f),$("slotMinutes")*s),$("timeFormat")));m=s}},stop:function(k,P){ma("eventResizeStop",this,f,k,P);if(s)r(this,f,0,$("slotMinutes")*s,k,P);else{i.css("z-index",8);v(f,i)}}})}var n=this;n.renderEvents=a;n.compileDaySegs=j;n.clearEvents=b;n.slotSegHtml=u;n.bindDaySeg=C;Sb.call(n);var $=n.opt,ma=n.trigger,na=n.isEventDraggable,wa=n.isEventResizable,za=n.eventEnd,qa=n.reportEvents,oa=n.reportEventClear,ra=n.eventElementHandlers,Aa=n.setHeight,sa=n.getDaySegmentContainer,
aa=n.getSlotSegmentContainer,la=n.getHoverListener,pa=n.getMaxMinute,ta=n.getMinMinute,R=n.timePosition,E=n.colContentLeft,T=n.colContentRight,d=n.renderDaySegs,N=n.resizableDayEvent,Q=n.getColCnt,V=n.getColWidth,ea=n.getSlotHeight,Ba=n.getBodyContent,S=n.reportEventElement,v=n.showEvents,M=n.hideEvents,t=n.eventDrop,r=n.eventResize,Z=n.renderDayOverlay,w=n.clearOverlays,ba=n.calendar,da=ba.formatDate,x=ba.formatDates,D=n.resources}function Ac(a,b){function j(u,C){C&&ja(u,C*7);u=ja(I(u),-((u.getDay()-
l("firstDay")+7)%7));C=ja(I(u),7);var L=I(u),Y=I(C),U=l("weekends");if(!U){Wa(L);Wa(Y,-1,true)}e.title=y(L,ja(I(Y),-1),l("titleFormat"));e.start=u;e.end=C;e.visStart=L;e.visEnd=Y;o(U?7:5)}var e=this;e.render=j;cc.call(e,a,b,"agendaWeek");var l=e.opt,o=e.renderAgenda,y=b.formatDates}function Bc(a,b){function j(u,C){if(C){ja(u,C);l("weekends")||Wa(u,C<0?-1:1)}C=I(u,true);var L=ja(I(C),1);e.title=y(u,l("titleFormat"));e.start=e.visStart=C;e.end=e.visEnd=L;o(1)}var e=this;e.render=j;cc.call(e,a,b,"agendaDay");
var l=e.opt,o=e.renderAgenda,y=b.formatDate}function cc(a,b,j){function e(p){Ea=p;l();f?t():o();y()}function l(){Ta=v("theme")?"ui":"fc";bb=v("weekends")?0:1;ib=v("firstDay");if(yb=v("isRTL")){Oa=-1;Pa=Ea-1}else{Oa=1;Pa=0}Ma=mb(v("minTime"));cb=mb(v("maxTime"));Qa=v("columnFormat")}function o(){var p=Ta+"-widget-header",X=Ta+"-widget-content",J,c,G,A,O,ka=v("slotMinutes")%15==0;J="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+
p+"'>&nbsp;</th>";for(c=0;c<Ea;c++)J+="<th class='fc- fc-col"+c+" "+p+"'/>";J+="<th class='fc-agenda-gutter "+p+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+p+"'>&nbsp;</th>";for(c=0;c<Ea;c++)J+="<td class='fc- fc-col"+c+" "+X+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";J+="<td class='fc-agenda-gutter "+X+"'>&nbsp;</td></tr></tbody></table>";f=q(J).appendTo(a);i=f.find("thead");g=i.find("th").slice(1,-1);s=f.find("tbody");
m=s.find("td").slice(0,-1);h=m.find("div.fc-day-content div");k=m.eq(0);P=k.find("> div");hb(i.add(i.find("tr")));hb(s.add(s.find("tr")));W=i.find("th:first");ya=f.find(".fc-agenda-gutter");fa=q("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(v("allDaySlot")){ga=q("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(fa);J="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+p+" fc-agenda-axis'>"+v("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
p+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ia=q(J).appendTo(fa);ca=ia.find("tr");F(ca.find("td"));W=W.add(ia.find("th:first"));ya=ya.add(ia.find("th.fc-agenda-gutter"));fa.append("<div class='fc-agenda-divider "+p+"'><div class='fc-agenda-divider-inner'/></div>")}else ga=q([]);B=q("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(fa);z=q("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(B);K=q("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(z);
J="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";G=sb();A=ua(I(G),cb);ua(G,Ma);for(c=kb=0;G<A;c++){O=G.getMinutes();J+="<tr class='fc-slot"+c+" "+(!O?"":"fc-minor")+"'><th class='fc-agenda-axis "+p+"'>"+(!ka||!O?D(G,v("axisFormat")):"&nbsp;")+"</th><td class='"+X+"'><div style='position:relative'>&nbsp;</div></td></tr>";ua(G,v("slotMinutes"));kb++}J+="</tbody></table>";H=q(J).appendTo(z);ha=H.find("div:first");n(H.find("td"));W=W.add(H.find("th:first"))}function y(){var p,
X,J,c,G=$a(new Date);for(p=0;p<Ea;p++){c=Aa(p);X=g.eq(p);X.html(D(c,Qa));J=m.eq(p);+c==+G?J.addClass(Ta+"-state-highlight fc-today"):J.removeClass(Ta+"-state-highlight fc-today");xb(X.add(J),c)}}function u(p,X){if(p===va)p=Ia;Ia=p;Va={};var J=s.position().top,c=B.position().top;p=Math.min(p-J,H.height()+c+1);P.height(p-db(k));fa.css("top",J);B.height(p-c-1);Ua=ha.height()+1;X&&L()}function C(p){Ha=p;La.clear();Sa=0;Xa(W.width("").each(function(X,J){Sa=Math.max(Sa,q(J).outerWidth())}),Sa);p=B[0].clientWidth;
if(Na=B.width()-p){Xa(ya,Na);ya.show().prev().removeClass("fc-last")}else ya.hide().prev().addClass("fc-last");eb=Math.floor((p-Sa)/Ea);Xa(g.slice(0,-1),eb)}function L(){function p(){B.scrollTop(c)}var X=sb(),J=I(X);J.setHours(v("firstHour"));var c=la(X,J)+1;p();setTimeout(p,0)}function Y(){jb=B.scrollTop()}function U(){B.scrollTop(jb)}function F(p){p.click($).mousedown(da)}function n(p){p.click($).mousedown(Q)}function $(p){if(!v("selectable")){var X=Math.min(Ea-1,Math.floor((p.pageX-f.offset().left-
Sa)/eb)),J=Aa(X),c=this.parentNode.className.match(/fc-slot(\d+)/);if(c){c=parseInt(c[1])*v("slotMinutes");var G=Math.floor(c/60);J.setHours(G);J.setMinutes(c%60+Ma);M("dayClick",m[X],J,false,p)}else M("dayClick",m[X],J,true,p)}}function ma(p,X,J){J&&Fa.build();var c=I(S.visStart);if(yb){J=Ka(X,c)*Oa+Pa+1;p=Ka(p,c)*Oa+Pa+1}else{J=Ka(p,c);p=Ka(X,c)}J=Math.max(0,J);p=Math.min(Ea,p);J<p&&F(na(0,J,0,p-1))}function na(p,X,J,c){p=Fa.rect(p,X,J,c,fa);return r(p,fa)}function wa(p,X){for(var J=I(S.visStart),
c=ja(I(J),1),G=0;G<Ea;G++){var A=new Date(Math.max(J,p)),O=new Date(Math.min(c,X));if(A<O){var ka=G*Oa+Pa;ka=Fa.rect(0,ka,0,ka,z);A=la(J,A);O=la(J,O);ka.top=A;ka.height=O-A;n(r(ka,z))}ja(J,1);ja(c,1)}}function za(p){return La.left(p)}function qa(p){return La.right(p)}function oa(p){return{row:Math.floor(Ka(p,S.visStart)/7),col:aa(p.getDay())}}function ra(p){var X=Aa(p.col);p=p.row;v("allDaySlot")&&p--;p>=0&&ua(X,Ma+p*v("slotMinutes"));return X}function Aa(p){return ja(I(S.visStart),p*Oa+Pa)}function sa(p){return v("allDaySlot")&&
!p.row}function aa(p){return(p-Math.max(ib,bb)+Ea)%Ea*Oa+Pa}function la(p,X){p=I(p,true);if(X<ua(I(p),Ma))return 0;if(X>=ua(I(p),cb))return H.height();p=v("slotMinutes");X=X.getHours()*60+X.getMinutes()-Ma;var J=Math.floor(X/p),c=Va[J];if(c===va)c=Va[J]=H.find("tr:eq("+J+") td div")[0].offsetTop;return Math.max(0,Math.round(c-1+Ua*(X%p/p)))}function pa(){return{left:Sa,right:Ha-Na}}function ta(){return ca}function R(p){var X=I(p.start);if(p.allDay)return X;return ua(X,v("defaultEventMinutes"))}function E(p,
X){if(X)return I(p);return ua(I(p),v("slotMinutes"))}function T(p,X,J){if(J)v("allDaySlot")&&ma(p,ja(I(X),1),true);else d(p,X)}function d(p,X){var J=v("selectHelper");Fa.build();if(J){var c=Ka(p,S.visStart)*Oa+Pa;if(c>=0&&c<Ea){c=Fa.rect(0,c,0,c,z);var G=la(p,p),A=la(p,X);if(A>G){c.top=G;c.height=A-G;c.left+=2;c.width-=5;if(q.isFunction(J)){if(p=J(p,X)){c.position="absolute";c.zIndex=8;xa=q(p).css(c).appendTo(z)}}else{c.isStart=true;c.isEnd=true;xa=q(x({title:"",start:p,end:X,className:["fc-select-helper"],
editable:false},c));xa.css("opacity",v("dragOpacity"))}if(xa){n(xa);z.append(xa);Xa(xa,c.width,true);ub(xa,c.height,true)}}}}else wa(p,X)}function N(){Z();if(xa){xa.remove();xa=null}}function Q(p){if(p.which==1&&v("selectable")){ba(p);var X;Ra.start(function(J,c){N();if(J&&J.col==c.col&&!sa(J)){c=ra(c);J=ra(J);X=[c,ua(I(c),v("slotMinutes")),J,ua(I(J),v("slotMinutes"))].sort(vb);d(X[0],X[3])}else X=null},p);q(document).one("mouseup",function(J){Ra.stop();if(X){+X[0]==+X[1]&&V(X[0],false,J);w(X[0],
X[3],false,J)}})}}function V(p,X,J){M("dayClick",m[aa(p.getDay())],p,X,J)}function ea(p,X){Ra.start(function(J){Z();if(J)if(sa(J))na(J.row,J.col,J.row,J.col);else{J=ra(J);var c=ua(I(J),v("defaultEventMinutes"));wa(J,c)}},X)}function Ba(p,X,J){var c=Ra.stop();Z();c&&M("drop",p,ra(c),sa(c),X,J)}var S=this;S.renderAgenda=e;S.setWidth=C;S.setHeight=u;S.beforeHide=Y;S.afterShow=U;S.defaultEventEnd=R;S.timePosition=la;S.dayOfWeekCol=aa;S.dateCell=oa;S.cellDate=ra;S.cellIsAllDay=sa;S.allDayRow=ta;S.allDayBounds=
pa;S.getHoverListener=function(){return Ra};S.colContentLeft=za;S.colContentRight=qa;S.getDaySegmentContainer=function(){return ga};S.getSlotSegmentContainer=function(){return K};S.getMinMinute=function(){return Ma};S.getMaxMinute=function(){return cb};S.getBodyContent=function(){return z};S.getRowCnt=function(){return 1};S.getColCnt=function(){return Ea};S.getColWidth=function(){return eb};S.getSlotHeight=function(){return Ua};S.defaultSelectionEnd=E;S.renderDayOverlay=ma;S.renderSelection=T;S.clearSelection=
N;S.reportDayClick=V;S.dragStart=ea;S.dragStop=Ba;Mb.call(S,a,b,j);Nb.call(S);Ob.call(S);Cc.call(S);var v=S.opt,M=S.trigger,t=S.clearEvents,r=S.renderOverlay,Z=S.clearOverlays,w=S.reportSelection,ba=S.unselect,da=S.daySelectionMousedown,x=S.slotSegHtml,D=b.formatDate,f,i,g,s,m,h,k,P,fa,ga,ia,ca,B,z,K,H,ha,W,ya,xa,Ha,Ia,Sa,eb,Na,Ua,jb,Ea,kb,Fa,Ra,La,Va={},Ta,ib,bb,yb,Oa,Pa,Ma,cb,Qa;wb(a.addClass("fc-agenda"));Fa=new Pb(function(p,X){function J(Ga){return Math.max(ka,Math.min(Ca,Ga))}var c,G,A;g.each(function(Ga,
Tb){c=q(Tb);G=c.offset().left;if(Ga)A[1]=G;A=[G];X[Ga]=A});A[1]=G+c.outerWidth();if(v("allDaySlot")){c=ca;G=c.offset().top;p[0]=[G,G+c.outerHeight()]}for(var O=z.offset().top,ka=B.offset().top,Ca=ka+B.outerHeight(),Da=0;Da<kb;Da++)p.push([J(O+Ua*Da),J(O+Ua*(Da+1))])});Ra=new Qb(Fa);La=new Rb(function(p){return h.eq(p)})}function Cc(){function a(x,D){za(x);var f,i=x.length,g=[],s=[];for(f=0;f<i;f++)x[f].allDay?g.push(x[f]):s.push(x[f]);if(n("allDaySlot")){T(j(g),D);ra()}o(e(s),D)}function b(){qa();
Aa().empty();sa().empty()}function j(x){x=ob(nb(x,q.map(x,ab),F.visStart,F.visEnd));var D,f=x.length,i,g,s,m=[];for(D=0;D<f;D++){i=x[D];for(g=0;g<i.length;g++){s=i[g];s.row=0;s.level=D;m.push(s)}}return m}function e(x){var D=N(),f=pa(),i=la(),g=ua(I(F.visStart),f),s=q.map(x,l),m,h,k,P,fa,ga,ia=[];for(m=0;m<D;m++){h=ob(nb(x,s,g,ua(I(g),i-f)));ac(h);for(k=0;k<h.length;k++){P=h[k];for(fa=0;fa<P.length;fa++){ga=P[fa];ga.col=m;ga.level=k;ia.push(ga)}}ja(g,1,true)}return ia}function l(x){return x.end?I(x.end):
ua(I(x.start),n("defaultEventMinutes"))}function o(x,D){var f,i=x.length,g,s,m,h,k,P,fa,ga,ia,ca="",B,z,K={},H={},ha=sa(),W;f=N();if(B=n("isRTL")){z=-1;W=f-1}else{z=1;W=0}for(f=0;f<i;f++){g=x[f];s=g.event;m=ta(g.start,g.start);h=ta(g.start,g.end);k=g.col;P=g.level;fa=g.forward||0;ga=R(k*z+W);ia=E(k*z+W)-ga;ia=Math.min(ia-6,ia*0.95);k=P?ia/(P+fa+1):fa?(ia/(fa+1)-6)*2:ia;P=ga+ia/(P+fa+1)*P*z+(B?ia-k:0);g.top=m;g.left=P;g.outerWidth=k;g.outerHeight=h-m;ca+=y(s,g)}ha[0].innerHTML=ca;B=ha.children();for(f=
0;f<i;f++){g=x[f];s=g.event;ca=q(B[f]);z=$("eventRender",s,s,ca);if(z===false)ca.remove();else{if(z&&z!==true){ca.remove();ca=q(z).css({position:"absolute",top:g.top,left:g.left}).appendTo(ha)}g.element=ca;if(s._id===D)C(s,ca,g);else ca[0]._fci=f;Ba(s,ca)}}Ib(ha,x,C);for(f=0;f<i;f++){g=x[f];if(ca=g.element){s=K[D=g.key=Jb(ca[0])];g.vsides=s===va?(K[D]=db(ca,true)):s;s=H[D];g.hsides=s===va?(H[D]=tb(ca,true)):s;D=ca.find("div.fc-event-content");if(D.length)g.contentTop=D[0].offsetTop}}for(f=0;f<i;f++){g=
x[f];if(ca=g.element){ca[0].style.width=Math.max(0,g.outerWidth-g.hsides)+"px";K=Math.max(0,g.outerHeight-g.vsides);ca[0].style.height=K+"px";s=g.event;if(g.contentTop!==va&&K-g.contentTop<10){ca.find("div.fc-event-time").text(ba(s.start,n("timeFormat"))+" - "+s.title);ca.find("div.fc-event-title").remove()}$("eventAfterRender",s,s,ca)}}}function y(x,D){var f="<",i=x.url,g=Kb(x,n),s=g?" style='"+g+"'":"",m=["fc-event","fc-event-skin","fc-event-vert"];ma(x)&&m.push("fc-event-draggable");D.isStart&&
m.push("fc-corner-top");D.isEnd&&m.push("fc-corner-bottom");m=m.concat(x.className);if(x.source)m=m.concat(x.source.className||[]);f+=i?"a href='"+Ya(x.url)+"'":"div";f+=" class='"+m.join(" ")+"' style='position:absolute;z-index:8;top:"+D.top+"px;left:"+D.left+"px;"+g+"'><div class='fc-event-inner fc-event-skin'"+s+"><div class='fc-event-head fc-event-skin'"+s+"><div class='fc-event-time'>"+Ya(da(x.start,x.end,n("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+
Ya(x.title)+"</div></div><div class='fc-event-bg'></div></div>";if(D.isEnd&&na(x))f+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";f+="</"+(i?"a":"div")+">";return f}function u(x,D,f){ma(x)&&L(x,D,f.isStart);f.isEnd&&na(x)&&d(x,D,f);oa(x,D)}function C(x,D,f){var i=D.find("div.fc-event-time");ma(x)&&Y(x,D,i);f.isEnd&&na(x)&&U(x,D,i);oa(x,D)}function L(x,D,f){function i(){if(!m){D.width(g).height("").draggable("option","grid",null);m=true}}var g,s,m=true,h,k=n("isRTL")?-1:1,P=aa(),fa=Q(),
ga=V(),ia=pa();D.draggable({zIndex:9,opacity:n("dragOpacity","month"),revertDuration:n("dragRevertDuration"),start:function(ca,B){$("eventDragStart",D,x,ca,B);v(x,D);g=D.width();P.start(function(z,K,H,ha){Z();if(z){s=false;h=ha*k;if(z.row)if(f){if(m){D.width(fa-10);ub(D,ga*Math.round((x.end?(x.end-x.start)/bc:n("defaultEventMinutes"))/n("slotMinutes")));D.draggable("option","grid",[fa,1]);m=false}}else s=true;else{r(ja(I(x.start),h),ja(ab(x),h));i()}s=s||m&&!h}else{i();s=true}D.draggable("option",
"revert",s)},ca,"drag")},stop:function(ca,B){P.stop();Z();$("eventDragStop",D,x,ca,B);if(s){i();D.css("filter","");S(x,D)}else{var z=0;m||(z=Math.round((D.offset().top-ea().offset().top)/ga)*n("slotMinutes")+ia-(x.start.getHours()*60+x.start.getMinutes()));M(this,x,h,z,m,ca,B)}}})}function Y(x,D,f){function i(z){var K=ua(I(x.start),z),H;if(x.end)H=ua(I(x.end),z);f.text(da(K,H,n("timeFormat")))}function g(){if(m){f.css("display","");D.draggable("option","grid",[ca,B]);m=false}}var s,m=false,h,k,P,
fa=n("isRTL")?-1:1,ga=aa(),ia=N(),ca=Q(),B=V();D.draggable({zIndex:9,scroll:false,grid:[ca,B],axis:ia==1?"y":false,opacity:n("dragOpacity"),revertDuration:n("dragRevertDuration"),start:function(z,K){$("eventDragStart",D,x,z,K);v(x,D);s=D.position();k=P=0;ga.start(function(H,ha,W,ya){D.draggable("option","revert",!H);Z();if(H){h=ya*fa;if(n("allDaySlot")&&!H.row){if(!m){m=true;f.hide();D.draggable("option","grid",null)}r(ja(I(x.start),h),ja(ab(x),h))}else g()}},z,"drag")},drag:function(z,K){k=Math.round((K.position.top-
s.top)/B)*n("slotMinutes");if(k!=P){m||i(k);P=k}},stop:function(z,K){var H=ga.stop();Z();$("eventDragStop",D,x,z,K);if(H&&(h||k||m))M(this,x,h,m?0:k,m,z,K);else{g();D.css("filter","");D.css(s);i(0);S(x,D)}}})}function U(x,D,f){var i,g,s=V();D.resizable({handles:{s:"div.ui-resizable-s"},grid:s,start:function(m,h){i=g=0;v(x,D);D.css("z-index",9);$("eventResizeStart",this,x,m,h)},resize:function(m,h){i=Math.round((Math.max(s,D.height())-h.originalSize.height)/s);if(i!=g){f.text(da(x.start,!i&&!x.end?
null:ua(wa(x),n("slotMinutes")*i),n("timeFormat")));g=i}},stop:function(m,h){$("eventResizeStop",this,x,m,h);if(i)t(this,x,0,n("slotMinutes")*i,m,h);else{D.css("z-index",8);S(x,D)}}})}var F=this;F.renderEvents=a;F.compileDaySegs=j;F.clearEvents=b;F.slotSegHtml=y;F.bindDaySeg=u;Sb.call(F);var n=F.opt,$=F.trigger,ma=F.isEventDraggable,na=F.isEventResizable,wa=F.eventEnd,za=F.reportEvents,qa=F.reportEventClear,oa=F.eventElementHandlers,ra=F.setHeight,Aa=F.getDaySegmentContainer,sa=F.getSlotSegmentContainer,
aa=F.getHoverListener,la=F.getMaxMinute,pa=F.getMinMinute,ta=F.timePosition,R=F.colContentLeft,E=F.colContentRight,T=F.renderDaySegs,d=F.resizableDayEvent,N=F.getColCnt,Q=F.getColWidth,V=F.getSlotHeight,ea=F.getBodyContent,Ba=F.reportEventElement,S=F.showEvents,v=F.hideEvents,M=F.eventDrop,t=F.eventResize,r=F.renderDayOverlay,Z=F.clearOverlays,w=F.calendar,ba=w.formatDate,da=w.formatDates}function ac(a){var b,j,e,l,o,y;for(b=a.length-1;b>0;b--){l=a[b];for(j=0;j<l.length;j++){o=l[j];for(e=0;e<a[b-
1].length;e++){y=a[b-1][e];if(Yb(o,y))y.forward=Math.max(y.forward||0,(o.forward||0)+1)}}}}function Mb(a,b,j){function e(R,E){R=ta[R];if(typeof R=="object")return Fb(R,E||j);return R}function l(R,E){return b.trigger.apply(b,[R,E||oa].concat(Array.prototype.slice.call(arguments,2),[oa]))}function o(R){return u(R)&&!e("disableDragging")}function y(R){return u(R)&&!e("disableResizing")}function u(R){return lb(R.editable,(R.source||{}).editable,e("editable"))}function C(R){aa={};var E,T=R.length,d;for(E=
0;E<T;E++){d=R[E];if(aa[d._id])aa[d._id].push(d);else aa[d._id]=[d]}}function L(R){return R.end?I(R.end):ra(R)}function Y(R,E){la.push(E);if(pa[R._id])pa[R._id].push(E);else pa[R._id]=[E]}function U(){la=[];pa={}}function F(R,E){E.click(function(T){if(!E.hasClass("ui-draggable-dragging")&&!E.hasClass("ui-resizable-resizing"))return l("eventClick",this,R,T)}).hover(function(T){l("eventMouseover",this,R,T)},function(T){l("eventMouseout",this,R,T)})}function n(R,E){ma(R,E,"show")}function $(R,E){ma(R,
E,"hide")}function ma(R,E,T){R=pa[R._id];var d,N=R.length;for(d=0;d<N;d++)if(!E||R[d][0]!=E[0])R[d][T]()}function na(R,E,T,d,N,Q,V){var ea=E.allDay,Ba=E._id;za(aa[Ba],T,d,N);l("eventDrop",R,E,T,d,N,function(){za(aa[Ba],-T,-d,ea);sa(Ba)},Q,V);sa(Ba)}function wa(R,E,T,d,N,Q){var V=E._id;qa(aa[V],T,d);l("eventResize",R,E,T,d,function(){qa(aa[V],-T,-d);sa(V)},N,Q);sa(V)}function za(R,E,T,d){T=T||0;for(var N,Q=R.length,V=0;V<Q;V++){N=R[V];if(d!==va)N.allDay=d;ua(ja(N.start,E,true),T);if(N.end)N.end=ua(ja(N.end,
E,true),T);Aa(N,ta)}}function qa(R,E,T){T=T||0;for(var d,N=R.length,Q=0;Q<N;Q++){d=R[Q];d.end=ua(ja(L(d),E,true),T);Aa(d,ta)}}var oa=this;oa.element=a;oa.calendar=b;oa.name=j;oa.opt=e;oa.trigger=l;oa.isEventDraggable=o;oa.isEventResizable=y;oa.reportEvents=C;oa.eventEnd=L;oa.reportEventElement=Y;oa.reportEventClear=U;oa.eventElementHandlers=F;oa.showEvents=n;oa.hideEvents=$;oa.eventDrop=na;oa.eventResize=wa;var ra=oa.defaultEventEnd,Aa=b.normalizeEvent,sa=b.reportEventChange,aa={},la=[],pa={},ta=
b.options}function Sb(){function a(v,M,t){var r=N(),Z=sa(),w=aa(),ba=0,da,x=v.length,D,f;r[0].innerHTML=j(v,t);e(v,r.children());l(v);o(v,r,M);y(v);u(v);C(v);M=L();for(t=0;t<Z;t++){r=[];for(da=0;da<w;da++)r[da]=0;for(;ba<x&&(D=v[ba]).row==t;){da=$b(r.slice(D.startCol,D.endCol));D.top=da;da+=D.outerHeight;for(f=D.startCol;f<D.endCol;f++)r[f]=da;ba++}M[t].height($b(r))}U(v,Y(M))}function b(v,M,t){var r=q("<div/>"),Z=N(),w=v.length,ba;r[0].innerHTML=j(v);r=r.children();Z.append(r);e(v,r);y(v);u(v);C(v);
U(v,Y(L()));r=[];for(Z=0;Z<w;Z++)if(ba=v[Z].element){v[Z].row===M&&ba.css("top",t);r.push(ba[0])}return q(r)}function j(v,M){var t=$("isRTL"),r,Z=v.length,w,ba,da,x;r=pa();var D=r.left,f=r.right,i,g,s,m,h,k="";for(r=0;r<Z;r++){w=v[r];ba=w.event;x=["fc-event","fc-event-skin","fc-event-hori"];na(ba)&&x.push("fc-event-draggable");if(t){w.isStart&&x.push("fc-corner-right");w.isEnd&&x.push("fc-corner-left");if(M)for(da=0;da<M.length;da++){if(M[da].id===w.event.resourceId){g=i=da;s=ta(i);m=R(g)}}else{i=
E(w.end.getDay()-1);g=E(w.start.getDay());s=w.isEnd?ta(i):D;m=w.isStart?R(g):f}}else{w.isStart&&x.push("fc-corner-left");w.isEnd&&x.push("fc-corner-right");if(M)for(da=0;da<M.length;da++){if(M[da].id===w.event.resourceId){g=i=da;s=ta(i);m=R(g)}}else{i=E(w.start.getDay());g=E(w.end.getDay()-1);s=w.isStart?ta(i):D;m=w.isEnd?R(g):f}}x=x.concat(ba.className);if(ba.source)x=x.concat(ba.source.className||[]);da=ba.url;h=Kb(ba,$);k+=da?"<a href='"+Ya(da)+"'":"<div";k+=" class='"+x.join(" ")+"' style='position:absolute;z-index:8;left:"+
s+"px;"+h+"'><div class='fc-event-inner fc-event-skin'"+(h?" style='"+h+"'":"")+">";if(!ba.allDay&&w.isStart)k+="<span class='fc-event-time'>"+Ya(V(ba.start,ba.end,$("timeFormat")))+"</span>";k+="<span class='fc-event-title'>"+Ya(ba.title)+"</span></div>";if(w.isEnd&&wa(ba))k+="<div class='ui-resizable-handle ui-resizable-"+(t?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";k+="</"+(da?"a":"div")+">";w.left=s;w.outerWidth=m-s;w.startCol=i;w.endCol=g+1}return k}function e(v,M){var t,r=v.length,Z,w,ba;for(t=
0;t<r;t++){Z=v[t];w=Z.event;ba=q(M[t]);w=ma("eventRender",w,w,ba);if(w===false)ba.remove();else{if(w&&w!==true){w=q(w).css({position:"absolute",left:Z.left});ba.replaceWith(w);ba=w}Z.element=ba}}}function l(v){var M,t=v.length,r,Z;for(M=0;M<t;M++){r=v[M];(Z=r.element)&&qa(r.event,Z)}}function o(v,M,t){var r,Z=v.length,w,ba,da;for(r=0;r<Z;r++){w=v[r];if(ba=w.element){da=w.event;if(da._id===t)Q(da,ba,w);else ba[0]._fci=r}}Ib(M,v,Q)}function y(v){var M,t=v.length,r,Z,w,ba,da={};for(M=0;M<t;M++){r=v[M];
if(Z=r.element){w=r.key=Jb(Z[0]);ba=da[w];if(ba===va)ba=da[w]=tb(Z,true);r.hsides=ba}}}function u(v){var M,t=v.length,r,Z;for(M=0;M<t;M++){r=v[M];if(Z=r.element)Z[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px"}}function C(v){var M,t=v.length,r,Z,w,ba,da={};for(M=0;M<t;M++){r=v[M];if(Z=r.element){w=r.key;ba=da[w];if(ba===va)ba=da[w]=Zb(Z);r.outerHeight=Z[0].offsetHeight+ba}}}function L(){var v,M=sa(),t=[];for(v=0;v<M;v++)t[v]=la(v).find("td:first div.fc-day-content > div");return t}function Y(v){var M,
t=v.length,r=[];for(M=0;M<t;M++)r[M]=v[M][0].offsetTop;return r}function U(v,M){var t,r=v.length,Z,w;for(t=0;t<r;t++){Z=v[t];if(w=Z.element){w[0].style.top=M[Z.row]+(Z.top||0)+"px";Z=Z.event;ma("eventAfterRender",Z,Z,w)}}}function F(v,M,t){var r=$("isRTL"),Z=r?"w":"e",w=M.find("div.ui-resizable-"+Z),ba=false;wb(M);M.mousedown(function(da){da.preventDefault()}).click(function(da){if(ba){da.preventDefault();da.stopImmediatePropagation()}});w.mousedown(function(da){function x(ga){ma("eventResizeStop",
this,v,ga);q("body").css("cursor","");D.stop();Ba();h&&Aa(this,v,h,0,ga);setTimeout(function(){ba=false},0)}if(da.which==1){ba=true;var D=n.getHoverListener(),f=sa(),i=aa(),g=r?-1:1,s=r?i-1:0,m=M.css("top"),h,k,P=q.extend({},v),fa=T(v.start);S();q("body").css("cursor",Z+"-resize").one("mouseup",x);ma("eventResizeStart",this,v,da);D.start(function(ga,ia){if(ga){var ca=Math.max(fa.row,ga.row);ga=ga.col;if(f==1)ca=0;if(ca==fa.row)ga=r?Math.min(fa.col,ga):Math.max(fa.col,ga);h=ca*7+ga*g+s-(ia.row*7+ia.col*
g+s);ia=ja(za(v),h,true);if(h){P.end=ia;ca=k;k=b(d([P]),t.row,m);k.find("*").css("cursor",Z+"-resize");ca&&ca.remove();ra(v)}else if(k){oa(v);k.remove();k=null}Ba();ea(v.start,ja(I(ia),1))}},da)}})}var n=this;n.renderDaySegs=a;n.resizableDayEvent=F;var $=n.opt,ma=n.trigger,na=n.isEventDraggable,wa=n.isEventResizable,za=n.eventEnd,qa=n.reportEventElement,oa=n.showEvents,ra=n.hideEvents,Aa=n.eventResize,sa=n.getRowCnt,aa=n.getColCnt,la=n.allDayRow,pa=n.allDayBounds,ta=n.colContentLeft,R=n.colContentRight,
E=n.dayOfWeekCol,T=n.dateCell,d=n.compileDaySegs,N=n.getDaySegmentContainer,Q=n.bindDaySeg,V=n.calendar.formatDates,ea=n.renderDayOverlay,Ba=n.clearOverlays,S=n.clearSelection}function Ob(){function a(U,F,n){b();F||(F=u(U,n));C(U,F,n);j(U,F,n)}function b(U){if(Y){Y=false;L();y("unselect",null,U)}}function j(U,F,n,$,ma){Y=true;y("select",null,U,F,n,$,ma)}function e(U){var F=l.cellDate,n=l.cellIsAllDay,$=l.getHoverListener(),ma=l.reportDayClick;if(U.which==1&&o("selectable")){b(U);var na;$.start(function(wa,
za){L();if(wa&&n(wa)){na=[F(za),F(wa)].sort(vb);C(na[0],na[1],true)}else na=null},U);q(document).one("mouseup",function(wa){$.stop();if(na){+na[0]==+na[1]&&ma(na[0],true,wa);j(na[0],na[1],true,wa)}})}}var l=this;l.select=a;l.unselect=b;l.reportSelection=j;l.daySelectionMousedown=e;var o=l.opt,y=l.trigger,u=l.defaultSelectionEnd,C=l.renderSelection,L=l.clearSelection,Y=false;o("selectable")&&o("unselectAuto")&&q(document).mousedown(function(U){var F=o("unselectCancel");if(F)if(q(U.target).parents(F).length)return;
b(U)})}function Nb(){function a(o,y){var u=l.shift();u||(u=q("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));u[0].parentNode!=y[0]&&u.appendTo(y);e.push(u.css(o).show());return u}function b(){for(var o;o=e.shift();)l.push(o.hide().unbind())}var j=this;j.renderOverlay=a;j.clearOverlays=b;var e=[],l=[]}function Pb(a){var b=this,j,e;b.build=function(){j=[];e=[];a(j,e)};b.cell=function(l,o){var y=j.length,u=e.length,C,L=-1,Y=-1;for(C=0;C<y;C++)if(o>=j[C][0]&&o<j[C][1]){L=C;break}for(C=
0;C<u;C++)if(l>=e[C][0]&&l<e[C][1]){Y=C;break}return L>=0&&Y>=0?{row:L,col:Y}:null};b.rect=function(l,o,y,u,C){C=C.offset();return{top:j[l][0]-C.top,left:e[o][0]-C.left,width:e[u][1]-e[o][0],height:j[y][1]-j[l][0]}}}function Qb(a){function b(u){Dc(u);u=a.cell(u.pageX,u.pageY);if(!u!=!y||u&&(u.row!=y.row||u.col!=y.col)){if(u){o||(o=u);l(u,o,u.row-o.row,u.col-o.col)}else l(u,o);y=u}}var j=this,e,l,o,y;j.start=function(u,C,L){l=u;o=y=null;a.build();b(C);e=L||"mousemove";q(document).bind(e,b)};j.stop=
function(){q(document).unbind(e,b);return y}}function Dc(a){if(a.pageX===va){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Rb(a){function b(y){return e[y]=e[y]||a(y)}var j=this,e={},l={},o={};j.left=function(y){return l[y]=l[y]===va?b(y).position().left:l[y]};j.right=function(y){return o[y]=o[y]===va?j.left(y)+b(y).width():o[y]};j.clear=function(){e={};l={};o={}}}var pb={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,
allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov",
"Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",resourceDay:"resource"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},Ec={header:{left:"next,prev today",center:"",
right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ja=q.fullCalendar={version:"1.5.3"},Za=Ja.views={};q.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),j;this.each(function(){var l=q.data(this,"fullCalendar");if(l&&q.isFunction(l[a])){l=l[a].apply(l,b);if(j===va)j=l;a=="destroy"&&q.removeData(this,
"fullCalendar")}});if(j!==va)return j;return this}var e=a.eventSources||[];delete a.eventSources;if(a.events){e.push(a.events);delete a.events}a=q.extend(true,{},pb,a.isRTL||a.isRTL===va&&pb.isRTL?Ec:{},a);this.each(function(l,o){l=q(o);o=new dc(l,a,e);l.data("fullCalendar",o);o.render()});return this};Ja.sourceNormalizers=[];Ja.sourceFetchers=[];var gc={dataType:"json",cache:false},hc=1;Ja.addDays=ja;Ja.cloneDate=I;Ja.parseDate=Gb;Ja.parseISO8601=Xb;Ja.parseTime=mb;Ja.formatDate=fb;Ja.formatDates=
Eb;var rc=["sun","mon","tue","wed","thu","fri","sat"],Wb=864E5,ic=36E5,bc=6E4,jc={s:function(a){return a.getSeconds()},ss:function(a){return gb(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return gb(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return gb(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return gb(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return gb(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},
dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return gb(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<
12?"AM":"PM"},u:function(a){return fb(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Ja.applyAll=rb;Za.month=sc;Za.basicWeek=tc;Za.basicDay=uc;Bb({weekMode:"fixed"});Za.resourceDay=wc;Bb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Za.agendaWeek=Ac;Za.agendaDay=Bc;Bb({allDaySlot:true,
allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
